/* General Setup */
:root { --header-height: 50px; --footer-height: 180px; --nav-height: 50px; }
body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background-color: #1c1c1e; color: #fff; }
.app-container { display: flex; flex-direction: column; height: 100%; }
canvas { display: none; }

/* Header */
.app-header { height: var(--header-height); display: grid; grid-template-columns: auto auto 1fr auto; align-items: center; padding: 0 15px; background-color: #2c2c2e; border-bottom: 1px solid #444; gap: 15px; }
.header-title { font-weight: 600; text-align: center; }
.header-btn, .icon-btn { background: none; border: none; color: #fff; font-size: 1rem; cursor: pointer; }
.icon-btn { font-size: 1.5rem; line-height: 1; padding: 5px; }
.icon-btn:disabled { opacity: 0.3; cursor: not-allowed; }
.history-controls { display: flex; gap: 10px; }

/* Image Workspace */
.image-workspace { flex-grow: 1; display: flex; align-items: center; justify-content: center; padding: 10px; overflow: auto; }
.image-container { max-width: 100%; max-height: 100%; }
#imageDisplay { max-width: 100%; max-height: 100%; object-fit: contain; cursor: pointer; }

/* Footer & Controls */
.app-footer { height: var(--footer-height); background-color: #2c2c2e; display: flex; flex-direction: column; }
.control-panel { display: none; flex-grow: 1; padding: 10px 15px; overflow-y: auto; }
.control-panel.active { display: block; }

/* Slider Redesign */
.slider-grid { display: grid; grid-template-columns: 1fr; gap: 8px; }
.slider { display: grid; grid-template-columns: 90px 1fr; align-items: center; gap: 10px; }
.slider label { font-size: 0.8rem; text-align: right; }
.slider input[type="range"] { width: 100%; }

/* Main Navigation Tabs */
.main-nav { height: var(--nav-height); display: flex; justify-content: space-around; align-items: center; border-top: 1px solid #444; flex-shrink: 0; }
.nav-tab { background: none; border: none; color: #8e8e93; font-size: 0.9rem; font-weight: 500; cursor: pointer; flex-grow: 1; }
.nav-tab.active { color: #ffd60a; }

/* Carousel */
.carousel { display: flex; align-items: center; overflow-x: auto; padding-bottom: 10px; gap: 10px; }
.cs-btn { padding: 8px 15px; border: 1px solid #555; background-color: #3a3a3c; color: #fff; border-radius: 8px; cursor: pointer; font-size: 0.9rem; white-space: nowrap; transition: background-color 0.2s, border-color 0.2s; }
.cs-btn.active { background-color: #007aff; border-color: #007aff; font-weight: 600; }

/* Responsive Design for Landscape */
@media (orientation: landscape) {
    .slider-grid { grid-template-columns: 1fr 1fr; }
}
